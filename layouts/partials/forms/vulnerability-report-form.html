<form
  name="vulnerability report"
  data-netlify="true"
  data-netlify-honeypot="bot-field"
  id="vulnerability-form"
>
  <div style="display: none;"><input type="text" name="bot-field"></div>

  {{ with .Params.form_fields.title }}
    <label class="form-element">
      <span>{{ .label }}</span>
      <input
        type="text"
        name="title"
        placeholder="{{ .placeholder }}"
        maxlength="{{ .maxlength }}"
        required
      >
      <small>{{ .help }}</small>
    </label>
  {{ end }}

  {{ with .Params.form_fields.description }}
    <label class="form-element">
      <span>{{ .label }}</span>
      <textarea
        name="description"
        placeholder="{{ .placeholder }}"
        minlength="{{ .minlength }}"
        maxlength="{{ .maxlength }}"
        rows="8"
        required
      ></textarea>
      <small>{{ .help }}</small>
    </label>
  {{ end }}

  {{ with .Params.form_fields.versions }}
    <label class="form-element">
      <span>{{ .label }}</span>
      <input
        type="text"
        name="affected-versions"
        placeholder="{{ .placeholder }}"
        required
      >
      <small>{{ .help }}</small>
    </label>
  {{ end }}

  {{ with .Params.form_fields.steps }}
    <label class="form-element">
      <span>{{ .label }}</span>
      <textarea
        name="steps-to-reproduce"
        placeholder="{{ .placeholder }}"
        maxlength="{{ .maxlength }}"
        rows="6"
      ></textarea>
      <small>{{ .help }}</small>
    </label>
  {{ end }}

  {{ with .Params.form_fields.impact }}
    <label class="form-element">
      <span>{{ .label }}</span>
      <textarea
        name="potential-impact"
        placeholder="{{ .placeholder }}"
        maxlength="{{ .maxlength }}"
        rows="5"
        required
      ></textarea>
      <small>{{ .help }}</small>
    </label>
  {{ end }}

  {{ with .Params.form_fields.name }}
    <label class="form-element">
      <span>{{ .label }}</span>
      <input
        type="text"
        name="reporter-name"
        maxlength="{{ .maxlength }}"
        required
      >
    </label>
  {{ end }}

  {{ with .Params.form_fields.email }}
    <label class="form-element">
      <span>{{ .label }}</span>
      <input
        type="email"
        name="reporter-email"
        placeholder="{{ .placeholder }}"
        required
      >
      <small>{{ .help }}</small>
    </label>
  {{ end }}

  {{ with .Params.form_fields.credit }}
    <div class="form-element form-element--checkbox">
      <label>
        <input type="checkbox" name="public-credit">
        <span>{{ .label }}</span>
      </label>
      <small>{{ .help }}</small>
    </div>
  {{ end }}

  <button type="submit" class="button button--primary" id="submit-button">
    {{ .Params.button_text }}
  </button>
  
  <div id="error-message" class="form-error is-hidden">
    <p id="error-text"></p>
  </div>
</form>

<div id="success-message" class="form-success is-hidden">
  <h3>{{ .Params.success_title }}</h3>
  <p>{{ .Params.success_message }}</p>
</div>
